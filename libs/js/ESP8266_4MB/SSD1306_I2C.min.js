function k(b){b&&(b.height&&(a[4]=b.height-1,a[15]=64==b.height?18:2,g[5]=(b.height>>3)-1),void 0!==b.contrast&&(a[17]=b.contrast))}var a=new Uint8Array([174,213,128,168,63,211,0,64,141,20,32,0,161,200,218,18,129,207,217,241,219,64,164,166,175]),g=[33,0,127,34,0,7];exports.connect=function(b,h,d){k(d);var e=Graphics.createArrayBuffer(128,a[4]+1,1,{vertical_byte:!0}),c=60;d&&(d.address&&(c=d.address),d.rst&&digitalPulse(d.rst,0,10));setTimeout(function(){a.forEach(function(f){b.writeTo(c,
[0,f])})},50);void 0!==h&&setTimeout(h,100);e.flip=function(){g.forEach(function(a){b.writeTo(c,[0,a])});var f=new Uint8Array(129);f[0]=64;for(var a=0;a<this.buffer.length;a+=128)f.set(new Uint8Array(this.buffer,a,128),1),b.writeTo(c,f)};e.reconnect=function(){a.forEach(function(a){b.writeTo(c,[0,a])})};e.setContrast=function(a){console.log("c:"+a.toString(16));b.writeTo(c,0,129,a)};e.off=function(){b.writeTo(c,0,174)};e.on=function(){b.writeTo(c,0,175)};return e}